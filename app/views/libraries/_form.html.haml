= form_with(model: library) do |form|
  - if library.errors.any?  
    #error_explanation
      %h2
        = pluralize(library.errors.count, "error")
        prohibited this book from being saved:
      %ul
        - library.errors.each do |error|
          %li= error.full_message
  .field
    = form.label :name
    = form.text_field :name
  .field
    = form.label :address
    = form.text_area :address
  .field
    = form.label :number
    = form.text_field :number
  .field
    = form.label :books
    = form.collection_select(:book_ids, Book.all, :id, :title, {}, {multiple: true})
  .actions
    = form.submit
